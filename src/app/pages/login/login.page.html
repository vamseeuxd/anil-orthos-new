<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>&nbsp;</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">&nbsp;</ion-title>
    </ion-toolbar>
  </ion-header>

  <div
    style="display: flex"
    class="ion-justify-content-center ion-align-items-center"
  >
    <ion-card
      style="width: 100%; max-width: 500px"
      *ngIf="authService.user$ | async as user; else loginButton"
    >
      <ion-card-content>
        <ion-list>
          <ion-item>
            <div
              style="
                display: flex;
                width: 100%;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                padding-bottom: 20px;
              "
            >
              <img [src]="user.photoURL" style="border-radius: 100%" />
            </div>
          </ion-item>
          <ion-item>
            <h1>
              <i class="fa-solid fa-user"></i> &nbsp;{{ user.displayName |
              titlecase }}
            </h1>
          </ion-item>

          <ion-item>
            <ion-label>
              <i class="fa-solid fa-envelope"></i>
              &nbsp; {{ user.email }}
            </ion-label>
          </ion-item>
        </ion-list>
        <div
          style="
            display: flex;
            width: 100%;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
          "
        >
          <ion-button color="medium" fill="clear" (click)="authService.logout()"
            >Logout</ion-button
          >
          <ion-button
            color="medium"
            fill="clear"
            [routerLink]="['/home']"
            routerLinkActive="router-link-active"
            >Dashboard</ion-button
          >
        </div>
      </ion-card-content>
    </ion-card>
    <ng-template #loginButton>
      <div
        style="
          width: 100%;
          height: calc(100vh - 60px);
          display: flex;
          justify-content: center;
          align-items: center;
        "
      >
        <ion-button color="danger" (click)="authService.login()">
          <div
            style="
              color: white;
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              padding-top: 15px;
            "
          >
            <i class="fa-brands fa-google fa-2xl"></i>
            <br />
            <h6>Login with Google</h6>
          </div>
        </ion-button>
      </div>
    </ng-template>
  </div>
</ion-content>
